이어 보자
이전다음
문제
지니는 선분으로만 이루어진 그림을 매우 좋아한다.
그래서 지니는 게임을 만들었는데, 그 이름은 바로 ""이어 보자"" 라는 게임이다.
게임이 시작 될 때 0부터 n - 1까지 고유한 번호가 부여된 점 n개가 평면 상에 주어지는데, 이들 중 어느 세 점도 일직선 위에 놓이지 않는다.
매번 지니가 임의의 두 점을 선택해서 이들을 잇는 선분을 긋는데, 전에 그은 선분을 다시 그을 수는 없지만 이미 그려진 다른 선분과 교차는 가능하다.
게임을 진행하다가 처음으로 사이클이 완성이 되는 순간 게임을 종료하는데, 사이클 C는 그린 선분들의 부분집합으로, C에 속한 임의의 선분의 한 끝점에서 출발해서 모든 선분을 한 번씩만 지나 출발점으로 돌아올 수 있다.
그런데, 선분을 여러 개 그리면서 사이클이 완성 되었는지 중간에 여부를 판단하기가 어렵다는 것이다. 그래서 지니는 이 과제를 해결하기 위해 게임의 진행 상황을 보고 몇 번째 차례에서 사이클이 완성되었는지, 혹은 지금도 게임이 진행 중인지 알려주는 프로그램을 구현하고자 한다.

입력
첫 번째 줄에는 평면에 있는 점의 개수를 나타내는 정수 n과 진행된 게임의 차례의 수를 나타내는 정수 m이 주어진다. (3 <= n <= 500,000, 3 <= m <= 1,000,000)
점들은 0부터 n - 1까지 고유한 번호가 부여되어 있고, 이들 중 어느 세 점도 일직선 위에 놓여있지 않음이 보장된다.
이어지는 m개의 줄에는 각각 i번째 차례에 지니가 선택해서 선분을 이은 두 점의 번호가 주어진다. (1 <= i <= m)

출력
게임이 종료되었다면 처음으로 사이클이 만들어진 차례의 번호를, 게임이 지금도 진행 중이라면 0을 출력한다.

예제 입력
copy6 6
0 1
0 3
0 4
1 2
2 3
4 5
예제 출력
copy5