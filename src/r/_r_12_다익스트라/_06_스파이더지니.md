스파이더 지니
이전다음
문제
지니는 유전자 조작 거미에 물렸다!

지니에게는 슈퍼 능력이 생겨버렸고, 스파이더맨처럼 벽을 타고 이동할 수 있게 되었다.

지니는 높이 H, 너비 W의 격자로 이루어진 지도의 시작에서 끝으로 이동하고자 한다.

각 칸은 벽이거나 비어있고, 지니는 한번에 한칸씩 상하좌우로 움직일 수 있다.

이때 벽으로는 이동할 수 없고, 한 칸을 이동하는 데 1초가 걸린다.

하지만, 지니가 벽을 타게 되면 시간 소모 없이 움직일 수 있다.

벽을 타는 것은 벽과 닿아있는 칸에서 벽과 닿아있는 칸으로 이동하는 것을 말한다.

어떤 칸의 상하좌우 중 벽이 있으면 벽과 닿아있는 칸이며, 이들간의 상하좌우 이동에는 시간이 걸리지 않는 것이다.

지니가 벽의 시작부터 끝까지 가는 데 걸리는 최소 시간을 출력하시오.

입력
첫째 줄에 지도의 크기가 H, W가 주어진다. (1<=H,W<=500)

다음 H줄에 걸쳐 지도의 정보가 주어지는 데, 각 줄은 W개의 문자로 이루어져있다.

'#'은 벽, '.'은 빈 공간, 'S'는 시작점, 'E'는 도착점을 의미한다.

이때, 시작점과 도착점은 하나씩 주어지고, 맵의 가장자리 한줄은 전부 벽으로 이루어져있다.

이동이 불가한 경우는 존재하지 않는다.

출력
지니가 시작점에서 도착점까지 이동하기 위해 최소 시간을 출력하시오.

예제 입력 1
copy5 5
#####
#..E#
#..##
#S..#
#####
예제 출력 1
copy0
예제 입력 2
copy6 6
######
#....#
#..E.#
#.S..#
#....#
######
예제 출력 2
copy2